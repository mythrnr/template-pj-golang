# リリースの作成

## 01. タグの作成

- リリースしたい下記コマンドを実行することで GitHub Actions によりリリースが作成される.
- `$branch` : リリースしたいブランチ. 本番なら `master` , 検証なら `develop` など.
- `$version` : バージョン名. `バージョンの付け方` に基づいて付ける.  
  `-dev` を含む場合, 検証環境向けにリリースが作成される.

```bash
# 最新にする
git checkout $branch
git pull origin $branch

git tag $version
```

### バージョンの付け方

- [カレンダー・バージョニング](https://calver.org/) を参考に採番する.
- `MAJOR` : リリースされる西暦年の下二桁.
- `MINOR` : リリースされる月のゼロ埋めの値.
- `MICRO` : 同月内リリースのカウント. 初版は `0` . 機能追加とバグ修正はどちらも同一とする.
- `MODIFIER` : `-dev.x` , `RC` などの修飾子.

#### フォーマット例

```bash
v${YY}.${0M}.${0D}
```

- `v20.05.2` ... 2020年5月の3回目のリリース.
- `v20.06.0-dev.0` ... 2020年6月の第一回リリース予定の開発中の初版を提供する場合.
- `v20.06.1-dev.2` ... 2020年6月の第二回リリース予定の開発中の第三版を提供する場合.

## 02. （自動）各ファイル, コンテナのビルドと公開

- 下記コマンドでタグが作成されると,  GitHub Actions によりリリースが作成される

```bash
git push origin $version
```

[←Back](../README.md)
