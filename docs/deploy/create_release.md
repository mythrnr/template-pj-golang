# リリースの作成

## 01. タグの作成

- リリースしたい下記コマンドを実行することで GitHub Actions によりリリースが作成される.
- `$branch` : リリースしたいブランチ. 本番なら `master` , 検証なら `develop` など.
- `$version` : バージョン名. `バージョンの付け方` に基づいて付ける.  
`-dev` を含む場合, 検証環境向けにリリースが作成される.

```bash
# 最新にする
git checkout $branch
git pull origin $branch

git tag $version
```

### バージョンの付け方

- [カレンダー・バージョニング](https://calver.org/) を参考に採番する.
- `MAJOR` : リリースされる西暦年の下二桁.
- `MINOR` : リリースされる月のゼロ埋めの値.
- `MICRO` : 同月内リリースのカウント. 初版は `0` . 機能追加とバグ修正はどちらも同一とする.
- `MODIFIER` : `-dev.x` , `RC` などの修飾子. 修飾子がある場合, `MICRO` は基本的に `0` .

#### フォーマット例

```
v${YY}.${0M}.${0D}
```

- `v20.05.2` ... 2020年5月の3回目のリリース.
- `v20.06.0-dev.0` ... 2020年6月リリース予定の開発中のものを提供する場合.

## 02. [自動] 各ファイル, コンテナのビルドとリリースの公開

- タグが作成されると, GitHub Actions によりリリースが作成される.

```bash
git push origin $version
```

[←Back](../README.md)
